<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Titre et description (seront mis à jour dynamiquement) -->
    <title>Article | ElectroInfo</title>
    <meta name="description" content="Découvrez les dernières innovations en électricité industrielle">
    
    <!-- Favicons -->
    <link rel="icon" type="image/x-icon" href="/images/favicon.ico">
    <link rel="icon" type="image/png" sizes="48x48" href="/images/logo-small.png">
    <link rel="icon" type="image/png" sizes="512x512" href="/images/logo.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

    <!-- Open Graph (Facebook, LinkedIn, WhatsApp) -->
    <meta property="og:title" content="Article | ElectroInfo">
    <meta property="og:description" content="Découvrez les dernières innovations en électricité industrielle">
    <meta property="og:image" content="https://electroinfo.online/images/logo.png">
    <meta property="og:url" content="https://electroinfo.online">
    <meta property="og:type" content="article">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Article | ElectroInfo">
    <meta name="twitter:description" content="Découvrez les dernières innovations en électricité industrielle">
    <meta name="twitter:image" content="https://electroinfo.online/images/logo.png">
    
    <!-- Styles - CHEMINS ABSOLUS OBLIGATOIRES -->
    <link rel="stylesheet" href="/styles.css">
    <link rel="stylesheet" href="/article-styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <div class="nav-brand">
                <img src="/images/logo-small.png" alt="Logo ElectroInfo" class="nav-logo">
                <span>ELECTROINFO</span>
            </div>
            
            <!-- Menu Desktop -->
            <div class="nav-menu" id="navMenu">
                <a href="/index.html" class="nav-link">
                    <i class="fas fa-home"></i> Accueil
                </a>
                <a href="/index.html#articles" class="nav-link">
                    <i class="fas fa-newspaper"></i> Articles
                </a>
                <a href="/index.html#newsletter" class="nav-link">
                    <i class="fas fa-envelope"></i> Newsletter
                </a>
                <a href="/auth.html" class="nav-link">
                    <i class="fas fa-user"></i> Connexion
                </a>
                <a href="archives.html" class="nav-link">Archives</a>
                     <a href="about.html" class="nav-link">À propos</a>
            
                 <a href="/courses.html" class="nav-link">
                     <i class="fas fa-graduation-cap"></i> Cours
                 </a>
                    </div>
            
            <!-- Actions -->
            <div class="nav-actions">
                <button id="themeToggle" class="btn-icon" aria-label="Changer le thème" title="Changer le thème">
                    <i class="fas fa-moon"></i>
                </button>
                <button id="mobileMenuToggle" class="mobile-toggle" aria-label="Menu">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>
    </nav>

    <!-- Loading State -->
    <div id="loadingState" class="loading-state">
        <div class="loading-spinner">
            <i class="fas fa-spinner fa-spin"></i>
            <p>Chargement de l'article...</p>
        </div>
    </div>

    <!-- Error State -->
    <div id="errorState" class="error-state hidden">
        <div class="error-content">
            <i class="fas fa-exclamation-triangle"></i>
            <h2>Article introuvable</h2>
            <p>Désolé, cet article n'existe pas ou a été supprimé.</p>
            <a href="/index.html" class="btn btn-primary">
                <i class="fas fa-home"></i> Retour à l'accueil
            </a>
        </div>
    </div>

    <!-- Article Container -->
    <main id="articleContainer" class="article-page hidden">
        <!-- Article Hero -->
        <div class="article-hero">
            <img id="articleImage" src="" alt="" class="article-hero-image">
            <div class="article-hero-overlay">
                <div class="article-hero-content">
                    <span id="categoryBadge" class="article-category-badge category-blue">INNOVATION</span>
                    <h1 id="articleTitle" class="article-title-hero">Titre de l'article</h1>
                </div>
            </div>
        </div>

        <!-- Article Meta -->
        <div class="article-meta-section">
            <div class="article-container">
                <div class="article-meta-content">
                    <div class="article-author-info">
                        <img id="authorAvatar" src="" alt="Avatar" class="author-avatar-large">
                        <div class="author-details">
                            <strong id="authorName" class="author-name">Auteur</strong>
                            <div class="article-stats-section">
                                <span class="article-stat">
                                    <i class="fas fa-calendar"></i>
                                    <span id="articleDate">Date</span>
                                </span>
                                <span class="article-stat">
                                    <i class="fas fa-clock"></i>
                                    <span id="readingTime">5 min de lecture</span>
                                </span>
                                <span class="article-stat">
                                    <i class="fas fa-eye"></i>
                                    <span id="viewsCount">0</span> vues
                                </span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Share Buttons -->
                    <div class="share-buttons">
                        <button onclick="copyLink()" class="share-btn" title="Copier le lien">
                            <i class="fas fa-link"></i>
                        </button>
                        <a href="#" class="share-btn" title="Partager sur Twitter" target="_blank" id="twitterShare">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="#" class="share-btn" title="Partager sur LinkedIn" target="_blank" id="linkedinShare">
                            <i class="fab fa-linkedin"></i>
                        </a>
                        <a href="#" class="share-btn" title="Partager sur WhatsApp" target="_blank" id="whatsappShare">
                            <i class="fab fa-whatsapp"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Article Content -->
        <div class="article-container">
            <!-- Main Content Column (Full Width) -->
            <div class="article-main-content-full">
                <!-- Article Body - PRIORITÉ #1 : LECTURE D'ABORD -->
                <div id="articleContent" class="article-body">
                    <!-- Le contenu sera injecté ici par JavaScript -->
                </div>
                
                <!-- Reactions Bar - APRÈS la lecture de l'article -->
                <div class="article-actions-bar">
                    <div class="reactions-container">
                        <button class="reaction-btn" data-reaction="like">
                            <i class="fas fa-thumbs-up"></i>
                            <span id="likeCount">0</span>
                        </button>
                        <button class="reaction-btn" data-reaction="love">
                            <i class="fas fa-heart"></i>
                            <span id="loveCount">0</span>
                        </button>
                        <button class="reaction-btn" data-reaction="insight">
                            <i class="fas fa-lightbulb"></i>
                            <span id="insightCount">0</span>
                        </button>
                        <button class="reaction-btn" data-reaction="support">
                            <i class="fas fa-hands-helping"></i>
                            <span id="supportCount">0</span>
                        </button>
                    </div>
                </div>
                
                <!-- Tags Section -->
                <div class="article-tags-section">
                    <h3 class="tags-section-title">
                        <i class="fas fa-tags"></i> Tags
                    </h3>
                    <div id="tagsContainer" class="tags-list">
                        <!-- Les tags seront injectés ici -->
                    </div>
                </div>
                
                <!-- Comments Section -->
                <div class="comments-section">
                    <h3 class="comments-title">
                        <i class="fas fa-comments"></i> 
                        Commentaires (<span id="commentsCount">0</span>)
                    </h3>
                    
                    <!-- Comment Form -->
                    <form id="commentForm" class="comment-form">
                        <div class="form-row">
                            <div class="form-group">
                                <input type="text" id="commentName" placeholder="Votre nom" required class="input">
                            </div>
                            <div class="form-group">
                                <input type="email" id="commentEmail" placeholder="Votre email" required class="input">
                            </div>
                        </div>
                        <div class="form-group">
                            <textarea id="commentText" placeholder="Votre commentaire..." required rows="4" class="input"></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-paper-plane"></i> Publier
                        </button>
                    </form>
                    
                    <!-- Comments List -->
                    <div id="commentsList" class="comments-list">
                        <!-- Les commentaires seront injectés ici -->
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <!-- Section Newsletter et Articles Similaires -->
            <div class="footer-widgets">
                <!-- Newsletter Box -->
                <div class="footer-widget newsletter-widget">
                    <div class="newsletter-icon">
                        <i class="fas fa-envelope"></i>
                    </div>
                    <h4 class="footer-widget-title">Newsletter</h4>
                    <p class="footer-widget-text">Recevez les derniers articles directement dans votre boîte mail.</p>
                    <form id="newsletterForm" class="newsletter-form-footer">
                        <input type="email" id="newsletterEmail" placeholder="votre@email.fr" required class="input">
                        <button type="submit" class="btn btn-primary btn-block">
                            S'abonner
                        </button>
                    </form>
                </div>
                
                <!-- Related Articles -->
                <div class="footer-widget related-widget">
                    <h4 class="footer-widget-title">Articles similaires</h4>
                    <div id="relatedArticles" class="related-articles-footer">
                        <!-- Les articles connexes seront injectés ici -->
                    </div>
                </div>
            </div>
            
            <div class="footer-content">
                <div class="footer-section">
                    <div class="footer-brand">
                        <i class="fas fa-bolt"></i>
                        <span>ELECTROINFO</span>
                    </div>
                    <p>Votre source d'actualités en électricité industrielle.</p>
                </div>
                
                <div class="footer-section">
                    <h4>Navigation</h4>
                    <ul class="footer-links">
                        <li><a href="/index.html">Accueil</a></li>
                        <li><a href="/index.html#articles">Articles</a></li>
                        <li><a href="/auth.html">Connexion</a></li>
                        <a href="archives.html" >Archives</a>
                     <a href="about.html" >À propos</a>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>Suivez-nous</h4>
                    <div class="social-links">
                        <a href="#" class="social-link"><i class="fab fa-facebook"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-linkedin"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2024 ElectroInfo. Tous droits réservés.</p>
            </div>
        </div>
    </footer>

    <!-- Newsletter Modal -->
    <div id="newsletterModal" class="modal hidden">
        <div class="modal-overlay" onclick="closeNewsletterModal()"></div>
        <div class="modal-content">
            <button class="modal-close" onclick="closeNewsletterModal()">
                <i class="fas fa-times"></i>
            </button>
            <div class="modal-body">
                <i class="fas fa-check-circle modal-icon success"></i>
                <h2>Merci !</h2>
                <p>Vous êtes maintenant inscrit à notre newsletter.</p>
            </div>
        </div>
    </div>

    <!-- 
    ⚠️ CRITIQUE : Le script DOIT être chargé comme MODULE
    Ceci permet d'utiliser les imports ES6 dans article.js
    -->
    <script type="module" src="/article.js"></script>
</body>
</html>